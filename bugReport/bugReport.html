<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Boxicons -->
    <link
      href="https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css"
      rel="stylesheet"
    />
    <!-- My CSS -->
    <link rel="stylesheet" href="../style.css" />
    <link rel="stylesheet" href="bugReport.css" />

    <title>E-File</title>
  </head>
  <body>
    <!-- SIDEBAR -->
    <section id="sidebar">
      <a href="#" class="brand">
        <i class="bx bxs-book"></i>
        <span class="text">E-FILE</span>
      </a>
      <ul class="side-menu top">
        <li class="">
          <a href="#" onclick="dashboard()">
            <i class="bx bxs-dashboard"></i>
            <span class="text">Dashboard</span>
          </a>
        </li>
        <li>
          <a href="#" onclick="filemanagement()">
            <i class="bx bxs-file"></i>
            <span class="text">File Management</span>
          </a>
        </li>
        <li>
          <a href="#" onclick="userManagement()">
            <i class="bx bxs-group"></i>
            <span class="text">User Management</span>
          </a>
        </li>
        <li>
          <a href="#" onclick="employmentReport()">
            <i class="bx bxs-printer"></i>
            <span class="text">Employment Report</span>
          </a>
        </li>
        <li class="active">
          <a href="#" onclick="bugReport()">
            <i class="bx bxs-skull"></i>
            <span class="text">Bug Report</span>
          </a>
        </li>
      </ul>
      <ul class="side-menu">
        <li>
          <a href="#" onclick="setting()">
            <i class="bx bxs-cog"></i>
            <span class="text">Settings</span>
          </a>
        </li>
        <li>
          <a href="#" class="logout" onclick="logout()">
            <i class="bx bxs-log-out-circle"></i>
            <span class="text">Logout</span>
          </a>
        </li>
      </ul>
    </section>
    <!-- SIDEBAR -->

    <!-- CONTENT -->
    <section id="content">
      <!-- NAVBAR -->
      <nav>
        <i class="bx bx-menu"></i>
        <a href="#" class="nav-link"></a>
        <form action="#">
          <div class="form-input">
            <!-- <input type="search" placeholder="Search..."> -->
            <button type="submit" class="search-btn">
              <i class="bx bx-atom"></i>
            </button>
          </div>
        </form>
        <input type="checkbox" id="switch-mode" hidden />
        <label for="switch-mode" class="switch-mode"></label>
        <a href="#" class="notification">
          <i class="bx bxs-bell"></i>
          <span class="num">8</span>
        </a>
        <a href="#" class="profile">
          <img src="../img/people.jpg" />
        </a>
      </nav>
      <!-- NAVBAR -->

      <!-- Bug Report -->
      <div class="bug-report" id="bug-report">
        <div class="head-title">
          <div class="left">
            <h1>BUG REPORT</h1>
            <ul class="breadcrumb">
              <li>
                <a href="#">Dashboard</a>
              </li>
              <li><i class="bx bx-chevron-right"></i></li>
              <li>
                <a class="active" href="#">Bug Report</a>
              </li>
            </ul>
          </div>
        </div>

        <div class="table-data">
          <div class="order">
            <div class="form-input">
              <div class="alert d-none" role="alert">
                <strong>Terimakasih!</strong> Pesan anda sudah kami terima.
              </div>
              <form name="bug-report">
                <label>Email: </label>
                <input
                  type="email"
                  for="email"
                  id="email"
                  name="email"
                  placeholder="Masukkan Email"
                  required
                />
                <label>Nama: </label>
                <input
                  type="text"
                  for="name"
                  id="name"
                  name="name"
                  placeholder="Masukkan Nama"
                  required
                />
                <label> Jabatan: </label>
                <select
                  name="job-title"
                  id="job-title"
                  name="job-title"
                  required
                >
                  <option value="admin">Admin</option>
                  <option value="head">Kepala Bagian</option>
                  <option value="employee">Pegawai</option>
                </select>
                <label> Keluhan: </label>
                <input
                  type="text"
                  for="complaint"
                  id="complaint"
                  name="complaint"
                  placeholder="Masukkan Keluhan"
                  required
                />
                <label> Detail Keluhan: </label>
                <textarea
                  for="complaint-detail"
                  id="complaint-detail"
                  name="complaint-detail"
                  placeholder="Masukkan Detail Keluhan"
                  required
                ></textarea>
                <button class="btn-kirim" type="submit">Kirim</button>
              </form>
            </div>
          </div>
        </div>
      </div>
      <!-- End Bug Report -->
    </section>

    <!-- CONTENT -->
    <script src="bugReport.js"></script>

    <script>
      const scriptURL =
        "https://script.google.com/macros/s/AKfycbx1s1PoY_MC9a3BnRWV7h4IO6QfmnDZIuk2QA4lTBliLfEB25wJaYpGORmFAh1D7mFA/exec";
      const form = document.forms["bug-report"];
      const btnKirim = document.querySelector(".btn-kirim");
      const alertElement = document.querySelector(".alert");

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        // ketika tombol submit di klik
        fetch(scriptURL, { method: "POST", body: new FormData(form) })
          .then((response) => {
            // tampilkan alert
            alertElement.classList.toggle("d-none");
            console.log("Success!", response);
            // reset form
            form.reset();
            // Menghilangkan alert setelah 3 detik (3000 milidetik)
            setTimeout(function () {
              alertElement.classList.toggle("d-none");
            }, 3000);
          })
          .catch((error) => console.error("Error!", error.message));
      });
      alert.classList.toggle("d-none");
    </script>
  </body>
</html>
